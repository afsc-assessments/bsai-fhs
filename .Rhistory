merge(.,mod_2020$catch %>% select(Yr, Obs), by = 'Yr') %>%
filter(Yr != 2020) %>%
mutate(catch_over_biomass  = Obs/Bio_smry)
## Code to produce results
require(dplyr)
require(tidyr)
require(ggplot2)
require(here)
this_year = lubridate::year(Sys.Date())
last_yr = this_year-1
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(labels = seq(1960,2025,5),
breaks = seq(1960,2025,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
# Figures ----
ggplot2::theme_set(ggsidekick::theme_sleek( base_size = 10))
theme_replace(text= element_text(family = "roboto condensed", size = 10),
title = element_text(size = 10))
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(labels = seq(1960,2025,5),
breaks = seq(1960,2025,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(labels = seq(1960,2021,5),
breaks = seq(1960,2025,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass) )) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass), linetype = 'dashed' )) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed') +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
#* Fig1.2 for ppt----
## show a line for the mean, remove the projected catches and indicate %change
fig1$catch_over_biomass[fig1$Yr==2020]
#* Fig1.2 for ppt----
## show a line for the mean, remove the projected catches and indicate %change
(fig1$catch_over_biomass[fig1$Yr==2020]-fig1$catch_over_biomass[fig1$Yr==2021])/
fig1$catch_over_biomass[fig1$Yr==2020]
#* Fig1.2 for ppt----
## show a line for the mean, remove the projected catches and indicate %change
round(100*(fig1$catch_over_biomass[fig1$Yr==2020]-fig1$catch_over_biomass[fig1$Yr==2021])/
fig1$catch_over_biomass[fig1$Yr==2020])
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(aes(x = 2017, y = 0.03, label = paste0(diff,'%'))) =
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(aes(x = 2017, y = 0.03, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
#* Fig1.2 for ppt----
## show a line for the mean, remove the projected catches and indicate %change
diff<- round(100*(fig1$catch_over_biomass[fig1$Yr==2020]-fig1$catch_over_biomass[fig1$Yr==2021])/
fig1$catch_over_biomass[fig1$Yr==2020])
diff
paste0(diff,'%')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(aes(x = 2017, y = 0.03, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2017, y = 0.03, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2017, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2022, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2020, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2020.5, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.08,0.01),
labels = seq(0,0.08,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.08),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.75),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.75),
breaks = seq(0,0.75,0.1),
labels = seq(0,0.75,0.1))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.075),
breaks = seq(0,0.75,0.1),
labels = seq(0,0.75,0.1))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.075),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr > 2021),
lwd = 1,  col = 'blue', pch = 1) +
geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.07),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggsave(last_plot(), height = 5, width = 8, dpi = 520,
file = here('figs',paste0(Sys.Date(),'-Fig1_catchvsbio_ppt.png')))
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
# geom_point(data = subset(fig1, Yr %in% c(2020,2021)),
#            lwd = 1,  col = 'blue', pch = 16) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.07),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggsave(last_plot(), height = 5, width = 8, dpi = 520,
file = here('figs',paste0(Sys.Date(),'-Fig1_catchvsbio_ppt.png')))
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
ggsidekick::theme_sleek(base_size = 18) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.07),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggsave(last_plot(), height = 5, width = 8, dpi = 520,
file = here('figs',paste0(Sys.Date(),'-Fig1_catchvsbio_ppt.png')))
#* Fig1.2 for ppt----
## show a line for the mean, remove the projected catches and indicate %change
diff<- round(100*(fig1$catch_over_biomass[fig1$Yr==2019]-fig1$catch_over_biomass[fig1$Yr==2020])/
fig1$catch_over_biomass[fig1$Yr==2019])
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
ggsidekick::theme_sleek(base_size = 18) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.07),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggsave(last_plot(), height = 5, width = 8, dpi = 520,
file = here('figs',paste0(Sys.Date(),'-Fig1_catchvsbio_ppt.png')))
#* Fig1.2 for ppt----
## show a line for the mean, remove the projected catches and indicate %change
diff<- round(100*(fig1$catch_over_biomass[fig1$Yr==2019]-fig1$catch_over_biomass[fig1$Yr==2021])/
fig1$catch_over_biomass[fig1$Yr==2019])
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr %in% c(2019,2021))) +
ggsidekick::theme_sleek(base_size = 18) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.07),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggsave(last_plot(), height = 5, width = 8, dpi = 520,
file = here('figs',paste0(Sys.Date(),'-Fig1_catchvsbio_ppt.png')))
diff
#* Fig1.2 for ppt----
## show a line for the mean, remove the projected catches and indicate %change
diff<- round(-100*(fig1$catch_over_biomass[fig1$Yr==2019]-fig1$catch_over_biomass[fig1$Yr==2021])/
fig1$catch_over_biomass[fig1$Yr==2019])
ggplot(subset(fig1),
aes(x = Yr, y = catch_over_biomass)) +
geom_hline(aes(yintercept = mean(fig1$catch_over_biomass)
),linetype = 'dashed', col = 'grey88') +
geom_text(check.overlap = T, aes(x = 2021, y = 0.027, label = paste0(diff,'%'))) +
geom_line(lwd = 1, col = 'grey77') +
geom_point(data = subset(fig1, Yr %in% c(2019,2021))) +
ggsidekick::theme_sleek(base_size = 18) +
scale_x_continuous(limits = c(1960,2021),
labels = seq(1960,2021,5),
breaks = seq(1960,2021,5))+
scale_y_continuous(limits = c(0,0.07),
breaks = seq(0,0.75,0.01),
labels = seq(0,0.75,0.01))+
labs(x = 'Year', y = 'Catch/Summary Biomass (age 3+)')
ggsave(last_plot(), height = 5, width = 8, dpi = 520,
file = here('figs',paste0(Sys.Date(),'-Fig1_catchvsbio_ppt.png')))
